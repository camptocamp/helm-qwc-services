---
# Source: qwc/charts/qgis/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-qgis-qgis-serv
  labels:
    app.kubernetes.io/name: qgis
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: qgis-server
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qgis
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: qgis-server
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-admin-gui
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: admin-gui
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: admin-gui
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-auth-serv
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: auth-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: auth-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-config-se
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: config-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: config-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-data-serv
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: data-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: data-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-document
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: document-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: document-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-elevation
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: elevation-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: elevation-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-feature-i
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: feature-info-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: feature-info-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-fulltext
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: fulltext-search-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: fulltext-search-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-map-viewe
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: map-viewer
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: map-viewer
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-mapinfo-s
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: mapinfo-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: mapinfo-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-ogc-servi
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: ogc-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: ogc-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-permalink
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: permalink-service
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: permalink-service
---
# Source: qwc/charts/qwc/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: qwc-solr
  labels:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: solr
spec:
  maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: solr
---
# Source: qwc/templates/jwt-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: "jwt-key-secret"
  annotations:
    "helm.sh/resource-policy": "keep"
type: Opaque
data:
  # retrieve the secret data using lookup function and when not exists, return an empty dictionary / map as result
  # set $jwtSecret to existing secret data or generate a random one when not exists
  # generate 32 chars long random string, base64 encode it and then double-quote the result string.
  JWT_SECRET_KEY: "TkRaTVJGQlBVbVExUmpoMGRtaExiVEZNYTJkNVozbG5OVlZIVEdOUFVrND0="
---
# Source: qwc/templates/pg-conf-secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: pg-service-conf-secret
  namespace: default
type: Opaque
data:
  pg_service_conf: W3F3Y19jb25maWdkYl0KaG9zdD1xd2MtcG9zdGdpcwpwb3J0PTU0MzIKZGJuYW1lPXF3Y19kZW1vCnVzZXI9cXdjX2FkbWluCnBhc3N3b3JkPXF3Y19hZG1pbgpzc2xtb2RlPWRpc2FibGUKCltxd2NfZ2VvZGJdCmhvc3Q9cXdjLXBvc3RnaXMKcG9ydD01NDMyCmRibmFtZT1xd2NfZGVtbwp1c2VyPXF3Y19zZXJ2aWNlCnBhc3N3b3JkPXF3Y19zZXJ2aWNlCnNzbG1vZGU9ZGlzYWJsZQoKW3F3Y19nZW9kYl0KaG9zdD1xd2MtcG9zdGdpcwpwb3J0PTU0MzIKZGJuYW1lPXF3Y19kZW1vCnVzZXI9cXdjX3NlcnZpY2Vfd3JpdGUKcGFzc3dvcmQ9cXdjX3NlcnZpY2Vfd3JpdGUKc3NsbW9kZT1kaXNhYmxl
---
# Source: qwc/charts/qgis/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-qgis-qgis-serv
  labels:
    helm.sh/chart: qgis
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qgis
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: qgis-server
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qgis
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: qgis-server
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-admin-gui
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: admin-gui
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: admin-gui
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-auth-serv
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: auth-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: auth-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-config-se
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: config-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: config-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-data-serv
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: data-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: data-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-document
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: document-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: document-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-elevation
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: elevation-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: elevation-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-feature-i
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: feature-info-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: feature-info-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-fulltext
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: fulltext-search-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: fulltext-search-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-map-viewe
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: map-viewer
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: map-viewer
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-mapinfo-s
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: mapinfo-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: mapinfo-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-ogc-servi
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: ogc-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: ogc-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-permalink
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: permalink-service
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: permalink-service
---
# Source: qwc/charts/qwc/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: qwc-solr
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: solr
    prometheus: "true"
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: http
  selector:
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: solr
---
# Source: qwc/charts/qgis/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-qgis-qgis-serv
  labels:
    helm.sh/chart: qgis
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qgis
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: qgis-server
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qgis
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: qgis-server
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qgis
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: qgis-server
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: qgis
          securityContext:
            {}
          image: "sourcepole/qwc-qgis-server:3.28.2"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /data
              name: v-qwc-data
              readOnly: true
              subPath: qgs-resources
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 80

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-admin-gui
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: admin-gui
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: admin-gui
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: admin-gui
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-admin-gui:v2022.03.19"
          imagePullPolicy: IfNotPresent
          env:
            - name: "DEFAULT_LOCALE"
              value: "en"
            - name: "GROUP_REGISTRATION_ENABLED"
              value: "False"
            - name: "IDLE_TIMEOUT"
              value: "600"
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "MAIL_DEFAULT_SENDER"
              value: "from@example.com"
            - name: "MAIL_SUPPRESS_SEND"
              value: "True"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-auth-serv
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: auth-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: auth-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: auth-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-db-auth:v2022.03.20"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "MAIL_DEFAULT_SENDER"
              value: "from@example.com"
            - name: "MAIL_SUPPRESS_SEND"
              value: "True"
            - name: "SERVICE_MOUNTPOINT"
              value: "/auth"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-config-se
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: config-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: config-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: config-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-config-generator:v2022.03.21-noqgis"
          imagePullPolicy: IfNotPresent
          env:
            - name: "INPUT_CONFIG_PATH"
              value: "/srv/qwc_service/config-in"
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "OUTPUT_CONFIG_PATH"
              value: "/srv/qwc_service/config-out"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /data
              name: v-qwc-data
              subPath: qgs-resources
            - mountPath: /qwc2
              name: v-qwc-data
              subPath: qwc2
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config
            - mountPath: /srv/qwc_service/config-in
              name: v-qwc-data
              readOnly: true
              subPath: config-in
            - mountPath: /srv/qwc_service/config-out
              name: v-qwc-data
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-data-serv
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: data-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: data-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: data-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-data-service:v2022.03.16"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "SERVICE_MOUNTPOINT"
              value: "/api/v1/data"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /attachments
              name: v-qwc-data
              readOnly: true
              subPath: attachments
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-document
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: document-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: document-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: document-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-document-service:v2022.01.27"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "SERVICE_MOUNTPOINT"
              value: "/api/v1/document"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-elevation
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: elevation-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: elevation-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: elevation-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-elevation-service:v2022.01.27"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-feature-i
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: feature-info-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: feature-info-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: feature-info-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-feature-info-service:v2.0.10"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "SERVICE_MOUNTPOINT"
              value: "/api/v1/feature-info"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-fulltext
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: fulltext-search-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: fulltext-search-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: fulltext-search-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-fulltext-search-service:v2022.01.27"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "SERVICE_MOUNTPOINT"
              value: "/api/v2/search"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-map-viewe
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: map-viewer
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: map-viewer
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: map-viewer
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-map-viewer-demo:v2022.10.06"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-mapinfo-s
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: mapinfo-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: mapinfo-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: mapinfo-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-mapinfo-service:v2022.01.27"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "SERVICE_MOUNTPOINT"
              value: "/api/v1/mapinfo"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-ogc-servi
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: ogc-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: ogc-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: ogc-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-ogc-service:v2022.08.22"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "SERVICE_MOUNTPOINT"
              value: "/ows"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-permalink
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: permalink-service
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: permalink-service
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: permalink-service
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "sourcepole/qwc-permalink-service:v2022.01.27"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
            - name: "SERVICE_MOUNTPOINT"
              value: "/api/v1/permalink"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
            readOnly: true
---
# Source: qwc/charts/qwc/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: qwc-solr
  labels:
    helm.sh/chart: qwc
    app.kubernetes.io/version: "1.0"
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: qwc
    app.kubernetes.io/instance: qwc
    app.kubernetes.io/component: solr
spec:
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: qwc
      app.kubernetes.io/instance: qwc
      app.kubernetes.io/component: solr
  template:
    metadata:
      labels:
        app.kubernetes.io/name: qwc
        app.kubernetes.io/instance: qwc
        app.kubernetes.io/component: solr
    spec:
      serviceAccountName: default
      securityContext:
        {}
      affinity:
        null
      containers:
        - name: uwsgi
          securityContext:
            {}
          image: "solr:8.11.1-slim"
          imagePullPolicy: IfNotPresent
          env:
            - name: "JWT_COOKIE_CSRF_PROTECT"
              value: "False"
            - name: "JWT_SECRET_KEY"
              valueFrom:
                secretKeyRef:
                  name: "jwt-key-secret"
                  key: "JWT_SECRET_KEY"
          terminationMessagePolicy: FallbackToLogsOnError
          resources:
            null
          volumeMounts:
            - mountPath: /gdi_conf
              name: v-qwc-data
              readOnly: true
              subPath: solr/configsets/gdi/conf
            - mountPath: /srv/pg_service.conf
              name: pg-service-conf-secret
              readOnly: true
              subPath: pg_service.conf
            - mountPath: /srv/qwc_service/config
              name: v-qwc-data
              readOnly: true
              subPath: config
            - mountPath: /var/solr
              name: v-qwc-data
              subPath: solr

          ports:
            - name: http
              containerPort: 9090
              hostIP: 127.0.0.1

      volumes:
        - name: pg-service-conf-secret
          secret:
            items:
            - key: pg_service_conf
              path: pg_service.conf
            secretName: pg-service-conf-secret
        - name: v-qwc-data
          persistentVolumeClaim:
            claimName: pvc-qwc-data
